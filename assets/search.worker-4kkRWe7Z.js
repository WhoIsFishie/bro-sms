(function(){"use strict";let r=[];self.onmessage=s=>{const{type:n}=s.data;if(n==="init"){const{searchIndex:t}=s.data;r=t.map(({contactId:o,text:e})=>({contactId:o,text:(e||"").toLowerCase()}));return}if(n==="search"){const{id:t,query:o}=s.data,e=(o||"").toLowerCase().trim();if(!e){self.postMessage({type:"result",id:t,results:[]});return}const a=[];for(const{contactId:c,text:i}of r)i.includes(e)&&a.push(c);self.postMessage({type:"result",id:t,results:a})}}})();
